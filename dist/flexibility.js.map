{"version":3,"sources":["flexibility.init.js","flexibility.display.js","flexibility.each.js","flexibility.measurements.js","flexibility.properties.js","flexibility.transform.js"],"names":["flexibility","test","navigator","userAgent","document","attachEvent","readyState","display","body","target","nodeType","setCSS","runtimeStyle","currentStyle","properties","parentElement","tfCSS","onlayoutcomplete","pfCSS","tFlex","pFlex","verticalAlign","width","offsetWidth","child","index","children","childNodes","old","replaceChild","clone","childSetCSS","measure","transform","attr","createElement","nodeName","attrs","attributes","attrc","createAttribute","name","value","setAttributeNode","lastChild","appendChild","firstChild","each","node","callback","nextSibling","style","measurer","init","getCSS","parentNode","wrap","fontMeasure","fontSize","lineHeight","height","offsetHeight","beforeCSS","removeChild","noNBorder","borderTopStyle","noEBorder","borderRightStyle","noSBorder","borderBottomStyle","noWBorder","borderLeftStyle","offset","after","offsetTop","defaults","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","key","contentHeight","contentWidth","before","wrapCSS","afterCSS","clip","overflow","position","flex","split","boxSizing","settings","alignContent","initial","valid","alignItems","alignSelf","flexBasis","flexDirection","flexGrow","flexShrink","flexWrap","justifyContent","order","replace","toLowerCase","flexStyle","direction","align","justify","row","flex-start","targetCSS","childCSS","center","flex-end","stretch","column","marginX","contentMeasurements","startOffsetX","startOffsetY","startStyle","endOffsetX","endOffsetY","endStyle","push","offsetLeft","contents","length","space-around","diff","margin"],"mappings":"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","file":"flexibility.js","sourcesContent":["/*! flexibility v0.2.0 | CC0 1.0 Public Domain | github.com/10up/flexibility */\n\nflexibility = {};\n\nif (/MSIE [8-9]\\./i.test(navigator.userAgent)) {\n\tdocument.attachEvent('onreadystatechange', function () {\n\t\tif (document.readyState === 'complete') {\n\t\t\tflexibility.display(document.body);\n\t\t}\n\t});\n}\n","flexibility.display = function (target) {\n\tif (target.nodeType !== 1) return;\n\n\tvar setCSS  = target.runtimeStyle || {};\n\tvar getCSS  = target.currentStyle || {};\n\n\tflexibility.properties(target);\n\tflexibility.properties(target.parentElement);\n\n\tvar tfCSS = target.onlayoutcomplete;\n\tvar pfCSS = target.parentElement.onlayoutcomplete;\n\tvar tFlex = /flex$/.test(tfCSS.display) && tfCSS.display;\n\tvar pFlex = /flex$/.test(pfCSS.display) && pfCSS.display;\n\n\tif (tFlex && !pFlex) {\n\t\tsetCSS.display = 'inline-block';\n\t\tsetCSS.verticalAlign = 'top';\n\n\t\tif (tFlex === 'flex') {\n\t\t\tsetCSS.display = 'block';\n\t\t}\n\n\t\tsetCSS.width = target.offsetWidth + 'px';\n\t}\n\n\tvar index = -1;\n\tvar children = target.childNodes;\n\tvar child;\n\n\twhile (child = children[++index]) {\n\t\tif (tFlex) {\n\t\t\tvar old = child;\n\n\t\t\ttarget.replaceChild(child = flexibility.display.clone(child), old);\n\n\t\t\tvar childSetCSS = child.runtimeStyle;\n\n\t\t\tchildSetCSS.display = 'inline-block';\n\t\t\tchildSetCSS.verticalAlign = 'top';\n\t\t\tchildSetCSS.width = child.offsetWidth + 'px';\n\t\t}\n\n\t\tflexibility.display(child);\n\t}\n\n\tif (tFlex) {\n\t\tflexibility.measure(target);\n\t\tflexibility.transform(target);\n\t}\n};\n\nflexibility.display.clone = function (target) {\n\tvar clone = document.createElement(target.nodeName);\n\tvar attrs = target.attributes;\n\tvar index = -1;\n\tvar attr;\n\n\twhile (attr = attrs[++index]) {\n\t\tvar attrc = document.createAttribute(attr.name);\n\n\t\tattrc.value = attr.value;\n\n\t\tclone.setAttributeNode(attrc);\n\t}\n\n\twhile (target.lastChild) {\n\t\tclone.appendChild(target.firstChild);\n\t}\n\n\treturn clone;\n};\n","flexibility.each = function (node, callback) {\n\tvar child = node.firstChild;\n\n\twhile (child) {\n\t\tif (child.nodeType === 1) {\n\t\t\tcallback(child);\n\t\t}\n\n\t\tchild = child.nextSibling;\n\t}\n};\n","flexibility.measure = function (target) {\n\tvar style = target.onlayoutcomplete = target.onlayoutcomplete || {};\n\n\t// if (style.width) return;\n\n\tvar measurer = flexibility.measurer || flexibility.measure.init() || flexibility.measurer;\n\tvar parent   = target.parentNode;\n\tvar getCSS   = target.currentStyle;\n\n\tdocument.body.appendChild(measurer.wrap);\n\n\t// if (parent) {\n\t// \tmeasurer.wrapCSS.width  = Math.max(parent.offsetWidth, parent.clientWidth);\n\t// \tmeasurer.wrapCSS.height = Math.max(parent.offsetHeight, parent.clientHeight);\n\t// }\n\n\tvar fontMeasure = target.appendChild(document.createElement('x'));\n\n\tfontMeasure.runtimeStyle.display = 'block';\n\tfontMeasure.runtimeStyle.fontSize = '1em';\n\tfontMeasure.runtimeStyle.lineHeight = '1';\n\tfontMeasure.runtimeStyle.height = '1em';\n\n\tstyle.fontSize = fontMeasure.offsetHeight;\n\n\tmeasurer.beforeCSS.fontSize = style.fontSize + 'px';\n\n\ttarget.removeChild(fontMeasure);\n\n\tvar noNBorder = getCSS.borderTopStyle === 'none';\n\tvar noEBorder = getCSS.borderRightStyle === 'none';\n\tvar noSBorder = getCSS.borderBottomStyle === 'none';\n\tvar noWBorder = getCSS.borderLeftStyle === 'none';\n\tvar offset  = measurer.after.offsetTop;\n\tvar defaults = {\n\t\tmarginTop:     0,\n\t\tmarginRight:   0,\n\t\tmarginBottom:  0,\n\t\tmarginLeft:    0,\n\t\tpaddingTop:    0,\n\t\tpaddingRight:  0,\n\t\tpaddingBottom: 0,\n\t\tpaddingLeft:   0\n\t};\n\n\tif (!noNBorder) {\n\t\tdefaults.borderTopWidth = 0;\n\t}\n\n\tif (!noEBorder) {\n\t\tdefaults.borderRightWidth = 0;\n\t}\n\n\tif (!noSBorder) {\n\t\tdefaults.borderBottomWidth = 0;\n\t}\n\n\tif (!noWBorder) {\n\t\tdefaults.borderLeftWidth = 0;\n\t}\n\n\tfor (var key in defaults) {\n\t\tmeasurer.beforeCSS.marginTop = getCSS[key];\n\n\t\tstyle[key] = measurer.after.offsetTop - offset;\n\t}\n\n\tif (noNBorder) {\n\t\tstyle.borderTopWidth = 0;\n\t}\n\n\tif (noEBorder) {\n\t\tstyle.borderRightWidth = 0;\n\t}\n\n\tif (noSBorder) {\n\t\tstyle.borderBottomWidth = 0;\n\t}\n\n\tif (noWBorder) {\n\t\tstyle.borderLeftWidth = 0;\n\t}\n\n\tdocument.body.removeChild(measurer.wrap);\n\n\tmeasurer.beforeCSS.marginTop = 0;\n\n\tstyle.width  = target.offsetWidth;\n\tstyle.height = target.offsetHeight;\n\n\tstyle.contentHeight = style.height - style.borderTopWidth - style.borderBottomWidth - style.paddingTop - style.paddingBottom;\n\tstyle.contentWidth  = style.width - style.borderLeftWidth - style.borderRightWidth - style.paddingLeft - style.paddingRight;\n};\n\nflexibility.measure.init = function (target) {\n\tvar wrap   = document.createElement('x');\n\tvar before = wrap.appendChild(document.createElement('x'));\n\tvar after  = wrap.appendChild(document.createElement('x'));\n\n\tvar wrapCSS   = wrap.runtimeStyle;\n\tvar beforeCSS = before.runtimeStyle;\n\tvar afterCSS  = after.runtimeStyle;\n\n\twrapCSS.clip     = 'rect(0 0 0 0)';\n\twrapCSS.display  = 'block';\n\twrapCSS.overflow = 'hidden';\n\twrapCSS.position = 'absolute';\n\n\tbeforeCSS.display = 'block';\n\tafterCSS.display  = 'block';\n\n\tflexibility.measurer = {\n\t\tbefore:    before,\n\t\tbeforeCSS: beforeCSS,\n\t\tafter:     after,\n\t\tafterCSS:  afterCSS,\n\t\twrap:      wrap,\n\t\twrapCSS:   wrapCSS\n\t};\n};\n","flexibility.properties = function (target) {\n\tvar style  = target.onlayoutcomplete = target.onlayoutcomplete || {};\n\tvar getCSS = target.currentStyle;\n\n\tvar cssFlex     = (getCSS.flex || '0 1 auto').split(/\\s+/);\n\tvar cssFlexFlow = (getCSS['flex-flow'] || 'row nowrap').split(/\\s+/);\n\n\tstyle.boxSizing = getCSS.boxSizing || 'content-box';\n\tstyle.display   = getCSS['-js-display'] || getCSS.display;\n\n\tvar settings = {\n\t\talignContent: {\n\t\t\tinitial: 'stretch',\n\t\t\tvalid:    /^(flex-start|flex-end|center|space-between|space-around|stretch)/\n\t\t},\n\t\talignItems: {\n\t\t\tinitial: 'stretch',\n\t\t\tvalid:   /^(flex-start|flex-end|center|baseline|stretch)$/\n\t\t},\n\t\talignSelf: {\n\t\t\tinitial: 'auto',\n\t\t\tvalid:   /^(auto|flex-start|flex-end|center|baseline|stretch)$/\n\t\t},\n\t\tflexBasis: {\n\t\t\tinitial: 'auto',\n\t\t\tvalid:   /^((?:[-+]?0|[-+]?[0-9]*\\.?[0-9]+(?:%|ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw))|auto|fill|max-content|min-content|fit-content|content)$/\n\t\t},\n\t\tflexDirection: {\n\t\t\tinitial: 'row',\n\t\t\tvalid:   /^(row|row-reverse|column|column-reverse)$/\n\t\t},\n\t\tflexGrow: {\n\t\t\tinitial: '0',\n\t\t\tvalid:   /^\\+?(0|[1-9][0-9]*)$/\n\t\t},\n\t\tflexShrink: {\n\t\t\tinitial: '0',\n\t\t\tvalid:   /^\\+?(0|[1-9][0-9]*)$/\n\t\t},\n\t\tflexWrap: {\n\t\t\tinitial: 'nowrap',\n\t\t\tvalid:   /^(nowrap|wrap|wrap-reverse)$/\n\t\t},\n\t\tjustifyContent: {\n\t\t\tinitial: 'flex-start',\n\t\t\tvalid:   /^(flex-start|flex-end|center|space-between|space-around)$/\n\t\t},\n\t\torder: {\n\t\t\tinitial: '0',\n\t\t\tvalid:   /^([-+]?[0-9]+)$/\n\t\t}\n\t};\n\n\tfor (var key in settings) {\n\t\tvar value = (getCSS[key.replace(/[A-Z]/g, '-$&').toLowerCase()] || '').toLowerCase();\n\n\t\tstyle[key] = settings[key].valid.test(value) ? value : settings[key].initial;\n\t}\n};\n","flexibility.transform = function (target) {\n\tvar flexStyle = target.onlayoutcomplete;\n\tvar direction = flexStyle.flexDirection;\n\tvar align     = flexStyle.alignItems;\n\tvar justify   = flexStyle.justifyContent;\n\n\tif (flexibility.transform.align[direction][align]) {\n\t\tflexibility.transform.align[direction][align](target);\n\t}\n\n\tif (flexibility.transform.justify[direction][justify]) {\n\t\tflexibility.transform.justify[direction][justify](target);\n\t}\n};\n\nflexibility.transform.align = {\n\trow: {\n\t\t'flex-start': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.marginBottom = targetCSS.contentHeight - childCSS.height - childCSS.marginBottom;\n\t\t\t});\n\t\t},\n\t\tcenter: function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.marginTop = (targetCSS.contentHeight - childCSS.height) / 2 + 'px';\n\t\t\t});\n\t\t},\n\t\t'flex-end': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.marginTop = targetCSS.contentHeight - childCSS.height - childCSS.marginTop;\n\t\t\t});\n\t\t},\n\t\tstretch: function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.height = targetCSS.contentHeight - childCSS.marginTop - childCSS.marginBottom + 'px';\n\t\t\t});\n\t\t}\n\t},\n\tcolumn: {\n\t\t'flex-start': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.marginRight = targetCSS.contentWidth - childCSS.width - childCSS.marginRight;\n\t\t\t});\n\t\t},\n\t\t'flex-end': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.marginLeft = targetCSS.contentWidth - childCSS.width - childCSS.marginLeft;\n\t\t\t});\n\t\t},\n\t\tcenter: function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tvar marginX = (targetCSS.contentWidth - childCSS.width) / 2 + 'px';\n\n\t\t\t\tchild.runtimeStyle.marginLeft = child.runtimeStyle.marginRight = marginX;\n\t\t\t});\n\t\t},\n\t\tstretch: function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\n\t\t\tflexibility.each(target, function (child) {\n\t\t\t\tflexibility.measure(child);\n\n\t\t\t\tvar childCSS = child.onlayoutcomplete;\n\n\t\t\t\tchild.runtimeStyle.width = targetCSS.contentWidth - childCSS.marginLeft - childCSS.marginRight + 'px';\n\t\t\t});\n\t\t}\n\t}\n};\n\nflexibility.transform.contentMeasurements = function (target) {\n\tvar childNodes = target.childNodes;\n\tvar index = -1;\n\tvar children = [];\n\tvar child, startOffsetX, startOffsetY, startStyle, endOffsetX, endOffsetY, endStyle;\n\n\twhile (child = childNodes[++index]) {\n\t\tif (child.nodeType === 1) {\n\t\t\tchildren.push(child);\n\n\t\t\tif (!startStyle) {\n\t\t\t\tstartStyle = child.runtimeStyle;\n\t\t\t\tstartOffsetX = child.offsetLeft;\n\t\t\t\tstartOffsetY = child.offsetTop;\n\t\t\t}\n\n\t\t\tendStyle = child.runtimeStyle;\n\t\t\tendOffsetX = child.offsetLeft + child.offsetWidth;\n\t\t\tendOffsetY = child.offsetTop + child.offsetHeight;\n\t\t}\n\t}\n\n\treturn {\n\t\tchildren:   children,\n\t\tstartStyle: startStyle,\n\t\tendStyle:   endStyle,\n\t\twidth:      endOffsetX - startOffsetX,\n\t\theight:     endOffsetY - startOffsetY\n\t};\n};\n\nflexibility.transform.justify = {\n\trow: {\n\t\t'flex-end': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\t\t\tvar contents  = flexibility.transform.contentMeasurements(target);\n\t\t\tvar lastChild = contents.children[contents.children.length - 1];\n\n\t\t\tflexibility.measure(lastChild);\n\n\t\t\tvar childCSS = lastChild.onlayoutcomplete;\n\n\t\t\tvar marginX = (targetCSS.contentWidth - contents.width) - childCSS.marginRight;\n\n\t\t\tcontents.startStyle.marginLeft = marginX + 'px';\n\t\t},\n\t\tcenter: function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\t\t\tvar contents = flexibility.transform.contentMeasurements(target);\n\n\t\t\tvar marginX = (targetCSS.contentWidth - contents.width) / 2;\n\n\t\t\tcontents.startStyle.marginLeft = marginX;\n\t\t\tcontents.endStyle.marginRight = marginX;\n\t\t}\n\t},\n\tcolumn: {\n\t\t'space-around': function (target) {\n\t\t\tvar targetCSS = target.onlayoutcomplete;\n\t\t\tvar contents  = flexibility.transform.contentMeasurements(target);\n\n\t\t\tvar diff = (targetCSS.contentHeight - contents.height);\n\t\t\tvar length = contents.children.length;\n\t\t\tvar margin = diff / (length * 2);\n\n\t\t\tvar index = -1;\n\t\t\tvar child;\n\n\t\t\twhile (child = contents.children[++index]) {\n\t\t\t\tchild.runtimeStyle.marginTop = margin + 'px';\n\t\t\t\tchild.runtimeStyle.marginBottom = margin + 'px';\n\t\t\t}\n\t\t}\n\t}\n};\n"],"sourceRoot":"/source/"}